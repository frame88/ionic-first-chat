<ion-header [translucent]="true" class="ion-margin-bottom">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button class="ion-margin-top"></ion-menu-button>
    </ion-buttons>
    <ion-text style="display: flex;" class="ion-margin-top ion-padding-top" slot="end">
      <h1>{{ chatUser }}</h1>
      <ion-icon routerLink="" size="large" name="information-circle-outline" color="primary" class="ion-margin-start ion-margin-end"></ion-icon>
    </ion-text>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <!-- <ion-toolbar class="ion-margin-bottom ion-padding-bottom">

    </ion-toolbar> -->
  </ion-header>

  <div id="container">
    <div class="chat-container">
      <div *ngFor="let message of dbmessage">
        <ion-label class="chat-container" style="display: flex; flex-direction: column;">
          <div [ngClass]="{'received': message.receiver === io, 'sent': message.sender === io}"
              class="text-message ion-padding" color="primary" class="box-message ion-margin-bottom ion-margin-start" style="justify-content: end;">
          <!-- <div [class.bg-pink]="message.text.length > 0" class="box-message ion-margin-bottom ion-margin-start"> -->
            <div class="ciao ion-margin-bottom">
              <span>{{message.text}}</span>

            </div>
            <span class="time-message">{{message.timestamp | date:'H:mm'}}</span>
          </div>
        </ion-label>
      </div>
      <div style="display: flex; justify-content: center; z-index: -1; background-color: rgba(255, 255, 255, 0.082); padding: 1em;" id="spinner-img">
          <!-- <img style="z-index: -10;" src="../../assets/images/intellitronika-symbol.svg" alt=""> -->
          <!-- background-image: url("../../assets/images/intellitronika-symbol.svg"); -->
      </div>
    </div>
  </div>
</ion-content>
<!-- <mat-form-field class="example-full-width" appearance="fill">
  <mat-label style="width: 100%;">Leave a comment</mat-label>
  <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
</mat-form-field> -->

<ion-footer [translucent]="true">
  <ion-toolbar>
    <form #f="ngForm" (submit)="send(f)">
      <!-- <form [formGroup]="formData" (ngSubmit)="sendmsg(messageForm.value.msg)"> -->
      <ion-input class="ion-margin-start" placeholder=" Scrivi qualcosa..." [ngModel] name="textToSend" autoGrow></ion-input>
      <button class="invia" slot='end' type="submit">Invia</button>
    </form>
  </ion-toolbar>
</ion-footer>
